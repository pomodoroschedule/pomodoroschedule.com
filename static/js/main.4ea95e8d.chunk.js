(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a(17)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(7),i=a.n(r),l=(a(13),a(2)),o=a(3),c=a(1),m=a(5),u=a(4),h=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={duration:n.props.duration,completedCallback:n.props.completedCallback,running:n.props.running,timeLeft:n.props.timeLeft,timerInterval:null},n}return Object(o.a)(a,[{key:"formattedTime",value:function(){var t=Math.floor(this.state.timeLeft/60),e=this.state.timeLeft%60;return e<10&&(e="0"+e),t+":"+e}},{key:"startTimer",value:function(){var t=this;null!=this.state.timerInterval&&clearInterval(this.state.timerInterval),-1===this.state.timeLeft&&this.setState({timeLeft:this.state.duration});var e=setInterval((function(){t.state.running&&(t.state.timeLeft<=0?t.doComplete():t.state.timeLeft>=t.state.duration?t.doBegin():(document.getElementsByClassName("base-timer__path-remaining")[0].classList.add("transition"),document.getElementById("base-timer-label").innerHTML=t.formattedTime(),t.setCircleDasharray(),t.setState({timeLeft:t.state.timeLeft-1})))}),1e3);this.setState({timerInterval:e})}},{key:"doBegin",value:function(){this.setFullCircleDasharrray(),this.setState({timeLeft:this.state.timeLeft-1})}},{key:"doComplete",value:function(){null!=this.state.timerInterval&&clearInterval(this.state.timerInterval);var t=document.getElementsByClassName("base-timer__path-remaining")[0];t.style.removeProperty("stroke"),t.classList.remove("transition"),this.setState({timeLeft:0}),this.startTimer(),this.state.completedCallback()}},{key:"componentDidMount",value:function(){null!=this.state.timerInterval&&clearInterval(this.state.timerInterval),this.state.running?(this.state.timeLeft>0&&this.setCircleDasharrayNoAnimation(),this.startTimer()):this.setCircleDasharray()}},{key:"componentWillUnmount",value:function(){null!=this.state.timerInterval&&clearInterval(this.state.timerInterval)}},{key:"calculateTimeFraction",value:function(){var t=this.state.timeLeft/this.state.duration;return t-(1-t)/(this.state.duration-1)}},{key:"setFullCircleDasharrray",value:function(){var t="".concat(283..toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",t)}},{key:"setCircleDasharrayNoAnimation",value:function(){var t=document.getElementsByClassName("base-timer__path-remaining")[0];t.style.removeProperty("stroke"),t.classList.remove("transition"),this.setCircleDasharray()}},{key:"setCircleDasharray",value:function(){var t="".concat((283*this.calculateTimeFraction()).toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"base-timer"},s.a.createElement("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{className:"base-timer__circle"},s.a.createElement("circle",{className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),s.a.createElement("path",{id:"base-timer-path-remaining",strokeDasharray:"283",className:"base-timer__path-remaining",d:"\r M 50, 50\r m -45, 0\r a 45,45 0 1,0 90,0\r a 45,45 0 1,0 -90,0\r "}))),s.a.createElement("div",{id:"base-timer-label",className:"base-timer__label"},this.formattedTime()))}}]),a}(n.Component),d=(a(14),a(15),function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).timerRef=s.a.createRef(),n.state={startedCallback:n.props.startedCallback,pauseCallback:n.props.pauseCallback,completedCallback:n.props.completedCallback,poms:n.props.poms,currentPom:n.props.currentPom,running:n.props.running,timeLeft:-1,timerKey:0},n.handleStartButtonClick=n.handleStartButtonClick.bind(Object(c.a)(n)),n.clockCompletedCallback=n.clockCompletedCallback.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleStartButtonClick",value:function(t){this.setState({timerKey:this.state.timerKey+1}),this.state.running?(this.setState({running:!1}),this.setState({timeLeft:this.timerRef.current.state.timeLeft}),this.setState({timerKey:this.state.timerKey+1})):(this.setState({running:!0}),this.state.startedCallback()),t.preventDefault()}},{key:"buttonText",value:function(){return this.state.running?"Pause":"Start"}},{key:"clockCompletedCallback",value:function(){this.setState({currentPom:this.state.currentPom+1}),this.setState({timerKey:this.state.timerKey+1}),this.state.completedCallback()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,{key:this.state.timerKey,running:this.state.running,duration:this.state.poms[this.state.currentPom],timeLeft:this.state.timeLeft,completedCallback:this.clockCompletedCallback,ref:this.timerRef}),s.a.createElement("div",{id:"duration-controls"},s.a.createElement("button",{id:"start-btn",onClick:this.handleStartButtonClick},this.buttonText())))}}]),a}(n.Component)),p=(a(16),function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={poms:n.props.poms,currentPom:n.props.currentPom,updatePoms:n.props.updatePoms,duration:1500},n.handleDurationChange=n.handleDurationChange.bind(Object(c.a)(n)),n.handleAddPom=n.handleAddPom.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"displayPoms",value:function(){var t=document.getElementById("poms");t.innerHTML="";for(var e=0;e<this.state.poms.length;e++){var a=document.createElement("span");a.classList.add("pom","new"),e===this.state.currentPom&&a.classList.add("pom","current"),a.innerText=this.state.poms[e],t.appendChild(a)}}},{key:"handleDurationChange",value:function(t){this.setState({duration:t.target.value})}},{key:"handleAddPom",value:function(){var t=this.state.poms;t.push(this.state.duration),this.setState({poms:t}),this.props.updatePoms(this.state.poms),this.displayPoms()}},{key:"handleStart",value:function(){var t=this.props.currentPom,e=document.getElementsByClassName("pom")[t];e.classList.remove("new"),e.classList.add("in-progress")}},{key:"componentDidMount",value:function(){this.displayPoms()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"schedule-container"},s.a.createElement("label",null,"Duration:",s.a.createElement("input",{type:"text",name:"short",value:this.state.duration,onChange:this.handleDurationChange})),s.a.createElement("button",{onClick:this.handleAddPom},"+"),s.a.createElement("span",{id:"poms"})))}}]),a}(n.Component)),b=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={poms:[],currentPom:-1,running:!1,scheduleKey:0,clockKey:0},n.updatePoms=n.updatePoms.bind(Object(c.a)(n)),n.timerStartedCallback=n.timerStartedCallback.bind(Object(c.a)(n)),n.timerPausedCallback=n.timerPausedCallback.bind(Object(c.a)(n)),n.timerCompletedCallback=n.timerCompletedCallback.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"updatePoms",value:function(t){this.setState({poms:t})}},{key:"timerStartedCallback",value:function(){this.state.currentPom<0&&(this.setState({currentPom:this.state.currentPom+1}),this.setState({running:!0}),this.setState({scheduleKey:this.state.scheduleKey+1}),this.setState({clockKey:this.state.clockKey+1}))}},{key:"timerPausedCallback",value:function(t){console.log(t)}},{key:"timerCompletedCallback",value:function(){this.setState({currentPom:this.state.currentPom+1}),this.setState({scheduleKey:this.state.scheduleKey+1}),this.setState({clockKey:this.state.clockKey+1})}},{key:"render",value:function(){return s.a.createElement("div",{id:"container"},s.a.createElement("div",{id:"schedule"},s.a.createElement(p,{key:this.state.scheduleKey,poms:this.state.poms,currentPom:this.state.currentPom,updatePoms:this.updatePoms})),s.a.createElement("div",{id:"clock"},s.a.createElement(d,{key:this.state.clockKey,poms:this.state.poms,currentPom:this.state.currentPom,running:this.state.running,startedCallback:this.timerStartedCallback,pausedCallback:this.timerPausedCallback,completedCallback:this.timerCompletedCallback})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.4ea95e8d.chunk.js.map