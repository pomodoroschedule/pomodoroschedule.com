(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,function(t,e,a){t.exports=a(21)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},,,function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(9),i=a.n(r),l=(a(15),a(2)),o=a(3),c=a(1),m=a(5),u=a(4),d=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={startCallback:n.props.startCallback,running:n.props.running},n.handleStartClick=n.handleStartClick.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleStartClick",value:function(t){t.preventDefault(),this.state.startCallback()}},{key:"setStartButtonText",value:function(){var t=document.getElementById("btn-label");this.state.running?t.innerText="Pause":t.innerText="Start"}},{key:"componentDidMount",value:function(){this.setStartButtonText()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("button",{id:"start-btn",onClick:this.handleStartClick},s.a.createElement("label",{id:"btn-label"},"Start")))}}]),a}(n.Component),h=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={poms:n.props.poms,currentPom:n.props.currentPom,startedCallback:n.props.startedCallback,completedCallback:n.props.completedCallback,started:!1,running:n.props.running,timeLeft:n.props.timeLeft,timerInterval:null,dialControlsKey:0},n.startTimer=n.startTimer.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"formattedTime",value:function(){if(this.state.timeLeft<0)return"--:--";var t=Math.floor(this.state.timeLeft/60),e=this.state.timeLeft%60;return e<10&&(e="0"+e),t+":"+e}},{key:"startTimer",value:function(){var t=this,e=this.state.currentPom;if(this.state.currentPom<0&&(e++,this.setState({currentPom:e})),null===this.state.timerInterval){this.state.startedCallback(),this.setState({running:!0});var a=setInterval((function(){var a=t.state.poms[e],n=t.state.timeLeft;(-1===n&&(n=a,t.setState({timeLeft:n})),t.setState({duration:a}),t.state.running)&&(n<=0?t.doComplete():n>=a?t.doBegin():(document.getElementsByClassName("base-timer__path-remaining")[0].classList.add("transition"),document.getElementById("timer-label").innerHTML=t.formattedTime(),t.setCircleDasharray(),t.setState({timeLeft:t.state.timeLeft-1})))}),1e3);this.setState({timerInterval:a})}else this.setState({running:!this.state.running}),this.setState({dialControlsKey:this.state.dialControlsKey+1})}},{key:"doBegin",value:function(){this.state.startedCallback(),this.setFullCircleDasharrray(),this.setState({timeLeft:this.state.timeLeft-1})}},{key:"doComplete",value:function(){var t=this;null!=this.state.timerInterval&&clearInterval(this.state.timerInterval);var e=document.getElementsByClassName("base-timer__path-remaining")[0];e.style.removeProperty("stroke"),e.classList.remove("transition");var a=document.getElementById("base-timer-path-elapsed");a.classList.add("completed-blink");var n=setInterval((function(){a.classList.remove("completed-blink"),t.setState({timeLeft:0}),t.startTimer(),clearInterval(n),t.state.completedCallback()}),5e3)}},{key:"componentDidMount",value:function(){if(null!=this.state.timerInterval&&clearInterval(this.state.timerInterval),this.state.running)this.state.timeLeft>0&&this.setCircleDasharrayNoAnimation(),this.startTimer();else{var t=document.getElementById("timer-label"),e=document.getElementById("base-timer-path-remaining"),a=document.getElementById("base-timer-path-elapsed");t.classList.add("paused"),e.classList.add("paused"),a.classList.add("paused-background"),this.setCircleDasharray()}}},{key:"componentWillUnmount",value:function(){null!=this.state.timerInterval&&clearInterval(this.state.timerInterval)}},{key:"calculateTimeFraction",value:function(){var t=this.state.timeLeft/this.state.duration;return t-(1-t)/(this.state.duration-1)}},{key:"setFullCircleDasharrray",value:function(){var t="".concat(283..toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",t)}},{key:"setCircleDasharrayNoAnimation",value:function(){var t=document.getElementsByClassName("base-timer__path-remaining")[0];t.style.removeProperty("stroke"),t.classList.remove("transition"),this.setCircleDasharray()}},{key:"setCircleDasharray",value:function(){var t="".concat((283*this.calculateTimeFraction()).toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"base-timer"},s.a.createElement("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{className:"base-timer__circle"},s.a.createElement("circle",{id:"base-timer-path-elapsed",className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),s.a.createElement("path",{id:"base-timer-path-remaining",strokeDasharray:"283",className:"base-timer__path-remaining",d:"\r M 50, 50\r m -45, 0\r a 45,45 0 1,0 90,0\r a 45,45 0 1,0 -90,0\r "}))),s.a.createElement("div",{id:"timer-label",className:"base-timer__label"},this.formattedTime()),s.a.createElement("div",{id:"timer-controls",className:"base-timer__label"},s.a.createElement(d,{key:this.state.dialControlsKey,startCallback:this.startTimer,running:this.state.running})))}}]),a}(n.Component),p=(a(16),a(17),function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).dialRef=s.a.createRef(),n.state={startedCallback:n.props.startedCallback,pauseCallback:n.props.pauseCallback,completedCallback:n.props.completedCallback,poms:n.props.poms,currentPom:n.props.currentPom,running:n.props.running,timeLeft:-1,dialKey:0},n.handleStartButtonClick=n.handleStartButtonClick.bind(Object(c.a)(n)),n.clockCompletedCallback=n.clockCompletedCallback.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"handleStartButtonClick",value:function(t){this.state.poms.length>0&&(this.state.running?(this.setState({running:!1}),this.setState({timeLeft:this.timerRef.current.state.timeLeft})):(this.setState({running:!0}),this.state.startedCallback()),this.setState({dialKey:this.state.dialKey+1})),t.preventDefault()}},{key:"clockCompletedCallback",value:function(){this.setState({currentPom:this.state.currentPom+1}),this.setState({timerKey:this.state.timerKey+1}),this.state.completedCallback()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,{key:this.state.dialKey,running:this.state.running,poms:this.state.poms,currentPom:this.state.currentPom,timeLeft:this.state.timeLeft,startedCallback:this.state.startedCallback,completedCallback:this.clockCompletedCallback,ref:this.dialRef}))}}]),a}(n.Component)),b=(a(18),function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={poms:n.props.poms,currentPom:n.props.currentPom,updatePoms:n.props.updatePoms,longDuration:1500,shortDuration:300},n.handleLongDurationChange=n.handleLongDurationChange.bind(Object(c.a)(n)),n.handleShortDurationChange=n.handleShortDurationChange.bind(Object(c.a)(n)),n.handleAddLongPom=n.handleAddLongPom.bind(Object(c.a)(n)),n.handleAddShortPom=n.handleAddShortPom.bind(Object(c.a)(n)),n.updatePoms=n.updatePoms.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"displayPoms",value:function(){var t=document.getElementById("poms");t.innerHTML="";for(var e=0;e<this.state.poms.length;e++){var a=document.createElement("span");a.classList.add("pom","new"),e===this.state.currentPom&&a.classList.add("pom","current"),a.innerText=this.state.poms[e],t.appendChild(a)}}},{key:"handleLongDurationChange",value:function(t){this.setState({longDuration:t.target.value})}},{key:"handleShortDurationChange",value:function(t){this.setState({shortDuration:t.target.value})}},{key:"handleAddLongPom",value:function(){var t=this.state.poms;t.push(this.state.longDuration),this.setState({poms:t}),this.updatePoms()}},{key:"handleAddShortPom",value:function(){var t=this.state.poms;t.push(this.state.shortDuration),this.setState({poms:t}),this.updatePoms()}},{key:"updatePoms",value:function(){this.props.updatePoms(this.state.poms),this.displayPoms()}},{key:"handleStart",value:function(){var t=this.props.currentPom,e=document.getElementsByClassName("pom")[t];e.classList.remove("new"),e.classList.add("in-progress")}},{key:"componentDidMount",value:function(){this.displayPoms()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"schedule-container"},s.a.createElement("div",{className:"input"},s.a.createElement("span",{className:"label"},"Long"),s.a.createElement("input",{type:"text",name:"long",value:this.state.longDuration,onChange:this.handleLongDurationChange}),s.a.createElement("button",{onClick:this.handleAddLongPom},"+"),s.a.createElement("span",{className:"label"},"Short"),s.a.createElement("input",{type:"text",name:"short",value:this.state.shortDuration,onChange:this.handleShortDurationChange}),s.a.createElement("button",{onClick:this.handleAddShortPom},"+")),s.a.createElement("div",{className:"display"},s.a.createElement("span",{id:"poms"}))))}}]),a}(n.Component)),k=a(7),v=function(t){Object(m.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(l.a)(this,a),n=e.call(this,t),k.a.initialize("UA-168751680-1"),k.a.pageview(window.location.pathname+window.location.search),n.state={poms:[],currentPom:-1,running:!1,scheduleKey:0,clockKey:0},n.updatePoms=n.updatePoms.bind(Object(c.a)(n)),n.timerStartedCallback=n.timerStartedCallback.bind(Object(c.a)(n)),n.timerPausedCallback=n.timerPausedCallback.bind(Object(c.a)(n)),n.timerCompletedCallback=n.timerCompletedCallback.bind(Object(c.a)(n)),n}return Object(o.a)(a,[{key:"updatePoms",value:function(t){this.setState({poms:t})}},{key:"timerStartedCallback",value:function(){this.state.currentPom<0&&(this.setState({running:!this.state.running}),this.setState({currentPom:this.state.currentPom+1}),this.setState({scheduleKey:this.state.scheduleKey+1}),this.setState({clockKey:this.state.clockKey+1}))}},{key:"timerPausedCallback",value:function(t){console.log(t)}},{key:"timerCompletedCallback",value:function(){this.setState({currentPom:this.state.currentPom+1}),this.setState({scheduleKey:this.state.scheduleKey+1}),this.setState({clockKey:this.state.clockKey+1})}},{key:"render",value:function(){return s.a.createElement("div",{id:"container"},s.a.createElement("div",{id:"schedule"},s.a.createElement(b,{key:this.state.scheduleKey,poms:this.state.poms,currentPom:this.state.currentPom,updatePoms:this.updatePoms})),s.a.createElement("div",{id:"clock"},s.a.createElement(p,{key:this.state.clockKey,poms:this.state.poms,currentPom:this.state.currentPom,running:this.state.running,startedCallback:this.timerStartedCallback,pausedCallback:this.timerPausedCallback,completedCallback:this.timerCompletedCallback})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.065e1385.chunk.js.map